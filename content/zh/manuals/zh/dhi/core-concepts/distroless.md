---
title: 精简镜像或 Distroless 镜像
linktitle: Distroless 镜像
description: 了解 Docker 强化镜像如何使用 distroless 变体来最小化攻击面并移除不必要的组件。
keywords: distroless container image, minimal docker image, secure base image, no shell container, reduced attack surface
---

精简镜像，有时称为 distroless 镜像，是剥离了不必要组件（如包管理器、shell 甚至底层操作系统发行版）的容器镜像。Docker 强化镜像（DHI）采用这种精简方法来减少漏洞并确保安全的软件交付。

### 什么是精简镜像或 distroless 镜像？

传统容器镜像包含完整的操作系统，通常超过运行应用程序所需的内容。相比之下，精简镜像或 distroless 镜像仅包含：

- 应用程序二进制文件
- 其运行时依赖项（例如 libc、Java、Python）
- 任何明确需要的配置或元数据

它们通常排除：

- 操作系统工具（例如 `ls`、`ps`、`cat`）
- Shell（例如 `sh`、`bash`）
- 包管理器（例如 `apt`、`apk`）
- 调试工具（例如 `curl`、`wget`、`strace`）

Docker 强化镜像基于此模型，确保更小、更安全的运行时环境。

### 您获得的优势

| 优势 | 描述 |
|------------------------|-------------------------------------------------------------------------------|
| 更小的攻击面 | 更少的组件意味着更少的漏洞和更少的 CVE 暴露 |
| 更快的启动 | 更小的镜像大小带来更快的拉取和启动时间 |
| 改善的安全性 | 缺少 shell 和包管理器限制了攻击者在受损情况下的行动能力 |
| 更好的合规性 | 更易于审计和验证，特别是配合 SBOM 和证明 |

### 解决常见权衡

精简镜像和 distroless 镜像提供强大的安全优势，但它们可能会改变您使用容器的方式。Docker 强化镜像旨在在增强安全性的同时保持生产力。

| 关注点 | Docker 强化镜像如何提供帮助 |
|-------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 可调试性 | 强化镜像默认不包含 shell 和 CLI 工具。使用 [Docker Debug](../../../reference/cli/docker/debug.md) 临时附加调试边车进行故障排除，而无需修改原始容器。 |
| 熟悉度 | DHI 支持多种基础镜像，包括 Alpine 和 Debian 变体，因此您可以选择熟悉的环境，同时仍然受益于强化实践。 |
| 灵活性 | 运行时不可变性有助于保护您的容器。使用多阶段构建和 CI/CD 来控制更改，并可选择在开发期间使用面向开发的基础镜像。 |

通过平衡精简主义与实用工具，Docker 强化镜像支持现代开发工作流程，同时不影响安全性或可靠性。

### 使用精简镜像的最佳实践

- 使用多阶段构建来分离构建时和运行时环境
- 使用 CI 管道验证镜像行为，而不是交互式检查
- 在 Dockerfile 中明确包含运行时特定的依赖项
- 使用 Docker Scout 持续监控 CVE，即使在精简镜像中也是如此

通过 Docker 强化镜像采用精简镜像或 distroless 镜像，您将获得一个更安全、可预测、生产就绪的容器环境，该环境专为自动化、清晰度和降低风险而设计。
